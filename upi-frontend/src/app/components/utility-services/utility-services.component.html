<div class="utility-services-container">
  <!-- Hero Section -->
  <div class="hero-section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-8">
          <h1 class="hero-title">
            <i class="bi bi-lightning-charge-fill me-3"></i>
            Utility Services
          </h1>
          <p class="hero-subtitle">Pay bills, recharge, and manage all your utility payments in one place</p>
        </div>
        <div class="col-lg-4 text-end">
          <div class="hero-badge">
            <i class="bi bi-shield-check me-2"></i>
            100% Secure Payments
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container py-4">
    <!-- Loading State -->
    <div *ngIf="loading" class="loading-state">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-3">Loading payment categories...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error" class="alert alert-danger alert-modern" role="alert">
      <i class="bi bi-exclamation-triangle-fill me-2"></i>
      {{ error }}
      <button class="btn btn-sm btn-outline-danger ms-3" (click)="loadCategories()">
        <i class="bi bi-arrow-clockwise me-1"></i> Retry
      </button>
    </div>

    <!-- Payment Categories Grid -->
    <div *ngIf="!loading && !error">
      <div class="section-header mb-4">
        <h3 class="section-title">
          <i class="bi bi-grid-3x3-gap-fill me-2"></i>
          Payment Categories
        </h3>
        <p class="section-subtitle">Choose a service to get started</p>
      </div>

      <div class="row g-4 mb-5">
        <div class="col-sm-6 col-lg-4 col-xl-3" *ngFor="let category of categories">
          <div class="category-card-modern" (click)="navigateToService(category)">
            <div class="category-card-inner">
              <div class="category-icon-wrapper">
                <div class="icon-circle">
                  <i class="bi {{ getIconClass(category.name) }}"></i>
                </div>
              </div>
              <h5 class="category-title">{{ category.displayName }}</h5>
              <p class="category-description">
                Pay instantly & securely
              </p>
              <div class="category-arrow">
                <i class="bi bi-arrow-right-circle-fill"></i>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Access Section -->
      <div class="section-header mb-4">
        <h3 class="section-title">
          <i class="bi bi-lightning-fill me-2"></i>
          Quick Access
        </h3>
        <p class="section-subtitle">Manage your payments efficiently</p>
      </div>

      <div class="row g-4">
        <div class="col-md-6">
          <div class="quick-access-card-modern" routerLink="/utilities/saved-billers">
            <div class="quick-access-icon">
              <i class="bi bi-bookmark-star-fill"></i>
            </div>
            <div class="quick-access-content">
              <h5 class="quick-access-title">Saved Billers</h5>
              <p class="quick-access-text">Quick pay from your saved billers</p>
            </div>
            <div class="quick-access-arrow">
              <i class="bi bi-chevron-right"></i>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="quick-access-card-modern" routerLink="/utilities/history">
            <div class="quick-access-icon success">
              <i class="bi bi-clock-history"></i>
            </div>
            <div class="quick-access-content">
              <h5 class="quick-access-title">Payment History</h5>
              <p class="quick-access-text">View all your utility payments</p>
            </div>
            <div class="quick-access-arrow">
              <i class="bi bi-chevron-right"></i>
            </div>
          </div>
        </div>
      </div>

      <!-- Features Section -->
      <div class="features-section mt-5">
        <div class="row g-4">
          <div class="col-md-4">
            <div class="feature-item">
              <i class="bi bi-lightning-charge-fill"></i>
              <h6>Instant Payment</h6>
              <p>Pay bills in seconds</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="feature-item">
              <i class="bi bi-shield-fill-check"></i>
              <h6>100% Secure</h6>
              <p>Bank-grade security</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="feature-item">
              <i class="bi bi-receipt"></i>
              <h6>Digital Receipts</h6>
              <p>Instant payment receipts</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
